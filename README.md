# 自己紹介｜AWS × 自動化 × 設計

## 概要
- AWS を中心に、運用・セキュリティ対応の自動化を PoC で検証してきました
- 「人が判断しなくても回る仕組み」ではなく、**人が判断しやすい仕組みを構成で設計する**のが得意です
- PoC → 設計 → 改善 のサイクルを回すスタイルです

※ 本構成は設計検証のための PoC ですが、本番運用を意識した構成分離・拡張性を重視しています。

---

## 背景

前職では運用を担当しつつ、  
手作業や属人化している部分を **自動化・仕組み化する改善** も行っていました。

その中で、

- 通知が多すぎて何から見ればいいか分からない
- 判断が属人化してしまう
- 状況把握に時間がかかる

といった課題を何度も感じました。

それを「人の頑張り」ではなく、  
**構成で解決したい** と思い、この PoC を作っています。

---

## やっていること

### 運用・セキュリティ自動化 PoC
アラートやセキュリティイベントを起点に、  
**正規化 → 判断 → 分岐 → 状態管理 → アクション** までを一連で設計しています。

対象例：
- 監視イベント（Zabbix など）
- セキュリティイベント（GuardDuty など）

処理基盤：
- API Gateway（受付）
- Lambda（正規化 / 整形）
- Step Functions（判断 / 分岐 / 制御）
- DynamoDB（状態管理 / 集約 / 判定履歴）
- ServiceNow（ITSM連携）
- Ansible（一部自動修復）
- SNS（通知）
- CloudWatch（ログ / 監視 / 可視化）

> アラートを「通知」で終わらせず、  
> **判断・分岐・状態管理まで含めて自動化**する構成を意識しています。

---

## 構成イメージ
<img width="717" height="341" alt="GuardDuty" src="https://github.com/user-attachments/assets/d98376d2-62f6-44b9-8c7e-62e83b392afe" />


---

## 設計で意識していること

### 1. 入口はまとめ、処理は分ける
Zabbix と GuardDuty では処理フローは異なりますが、

- 入口（受付・正規化レイヤ）は共通化
- 実際の分岐・判断は Step Functions で切り替え

という設計にしています。

---

### 2. 正規化は「共通レイヤ」として扱う
入力元ごとにデータ構造が異なるため、  
正規化ロジック自体は入力元ごとに分かれます。

ただし、

- Lambdaを増殖させるのではなく
- 正規化を **1つのレイヤとして設計**
- 変換ロジックをモジュール化

することで、入力元が増えても破綻しない構成を意識しています。

---

### 3. Step Functions を「判断の中枢」にする
この構成の主役は Step Functions です。

- 何を止めるか
- 何を直すか
- 何を通知するか
- 何をITSMに起票するか

といった **判断・分岐・制御** をここに集約しています。

---

### 4. すべてを即停止しない
すべてを即停止・即遮断にはしません。

- 侵害系（GuardDuty など） → 隔離・停止
- 障害系（Zabbix など） → 自動修復・通知
- 判断が難しいもの → ITSM起票

といったように、**内容に応じて処理を変える** 設計にしています。

---

### 5. DBは「保存」ではなく「状態管理」
DynamoDB は単なる保存先ではなく、

- 多重アラートの集約
- 再通知防止
- 状態遷移の管理
- 判断履歴の保持

といった **状態管理レイヤ** として使っています。

---

## やりたいこと

- Terraform × CI/CD を本格的に深めたい
- PoC → 記事 → 再設計 のサイクルを回したい
- セキュリティ × 自動化を強みにしたい
- 「設計で解決する」力をさらに伸ばしたい

---

## 最後に

- 設計レビュー / PoC / 自動化系の相談、大歓迎です
- 気軽に声をかけてもらえると嬉しいです！
